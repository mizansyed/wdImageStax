
(function(a){a.fn.wdImageStax=function(o){var g={height:false,width:false,list:false,index:1200,degree:20,animateSpeed:500,evaluateOnWindowResize:true};var f=a.extend(true,{},g,o);var b={};var l=function(p){if(f.height==false){f.height=p.innerHeight()}if(f.width==false){f.width=p.innerWidth()}if(f.list==""){f.list=false}if(f.animateSpeed>1000){f.animateSpeed=1000}if(f.evaluateOnWindowResize==true){a(window).resize(e)}};var d=function(){var p=(f.list===false)?b.wrapper.find("ul"):"ul"+f.list;var q=b.wrapper.find(p).find("li");b.ul=p;b.list=q};var i=function(){b.list_size=b.list.length;b.rotateToIncrement=m();n(true)};var m=function(){if(f.degree<10){f.degree=20}var p=f.degree*2;return Math.ceil(p/b.list.length)};var h=function(p){p.css({width:f.width,height:f.height})};var c=function(p){p.css("position","absolute")};var k=function(){var p=a(this);p.animate({left:"+="+f.width+"px"},f.animateSpeed).animate({left:"-="+f.width+"px"},f.animateSpeed);p.css("z-index",f.index-b.list.length);li=p.parent();b.ul.prepend(li);d();n(false)};var n=function(p){var q=b.rotateToIncrement;b.list.each(function(s){var t=a(this).find("img");var v=t.height();var r=t.width();var u=false;c(t);if(f.width<r){f.width=r;u=true}if(f.height<v){f.height=v;u=true}if(u==true){h(b.wrapper)}if(s==b.list.length-1){q=0}j(t,f.index++,q);if(p==true){t.on("click",k)}q+=b.rotateToIncrement})};var j=function(q,p,r){q.css({left:(b.wrapper.width()-q.outerWidth())/2,top:(b.wrapper.height()-q.outerHeight())/2});q.css("z-index",p);q.css("transform","rotate( "+r+"deg)");q.css("-ms-transform","rotate( "+r+"deg)");q.css("-moz-transform","rotate( "+r+"deg)");q.css("-webkit-transform","rotate( "+r+"deg)");q.css("-o-transform","rotate( "+r+"deg)")};var e=function(){f.height=b.wrapper.innerHeight();f.width=b.wrapper.innerWidth();n(false)};return this.each(function(){var p=b.wrapper=a(this);l(p);h(p);d();i()})}})(jQuery);